<!DOCTYPE html>
<html lang="en-GB" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Diagnostic Assessment | Acumen Logic</title>
    <meta name="description" content="20 questions, 25 minutes. Identify your weaknesses in Numerical Reasoning, Data Interpretation, and Logical Reasoning before your Big 4 or investment banking assessment.">
    <link rel="canonical" href="https://acumenlogic.co.uk/diagnostic.html">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/site.css">
</head>
<body>
    
    <!-- Header -->
    <header class="site-header" id="siteHeader">
        <div class="container header-inner">
            <a href="index.html" class="logo">
                <img src="assets/images/logo.png" width="36" height="36" alt="Acumen Logic">
                <div class="logo-text">
                    <span class="logo-name">ACUMEN LOGIC</span>
                    <span class="logo-tag">Finance Assessment Training</span>
                </div>
            </a>
            <nav class="nav-desktop">
                <a href="index.html" class="nav-link">Home</a>
                <a href="methodology.html" class="nav-link">Methodology</a>
                <a href="products.html" class="nav-link">Products</a>
                <a href="platform.html" class="nav-link">Platform</a>
                <a href="blog/index.html" class="nav-link">Blog</a>
            </nav>
            <a href="platform.html" class="btn btn-primary header-cta">Try Free Benchmark</a>
            <button class="mobile-toggle" onclick="document.getElementById('mobileMenu').classList.toggle('open')" aria-label="Toggle menu">
                <span></span><span></span><span></span>
            </button>
        </div>
        <div id="mobileMenu" class="mobile-menu">
            <a href="index.html" class="mobile-link">Home</a>
            <a href="methodology.html" class="mobile-link">Methodology</a>
            <a href="products.html" class="mobile-link">Products</a>
            <a href="platform.html" class="mobile-link">Platform</a>
            <a href="blog/index.html" class="mobile-link">Blog</a>
        </div>
    </header>

    <!-- ═══════════════════════════════════════════════════════════
         STATE 1: LANDING — Capture info, explain the diagnostic
         ═══════════════════════════════════════════════════════════ -->
    <section id="landing" class="landing-hero">
        <div class="container text-center" style="position:relative;z-index:1;">
            <p class="hero-eyebrow">Free Assessment</p>
            <h1 class="hero-title" style="max-width:700px;margin:0 auto .75rem;">The Finance Aptitude Diagnostic</h1>
            <p class="hero-subtitle" style="max-width:640px;margin:0 auto 2.5rem;">20 questions. 25 minutes. Numerical Reasoning, Data Interpretation, and Logical Reasoning. Discover which category is your bottleneck.</p>

            <div class="info-cards" style="max-width:680px;margin:0 auto 2.5rem;">
                <div class="info-card">
                    <h3>25 Minutes</h3>
                    <p>Timed conditions mirror real assessment pressure</p>
                </div>
                <div class="info-card">
                    <h3>Category Scoring</h3>
                    <p>Per-category breakdown, not just an overall score</p>
                </div>
                <div class="info-card">
                    <h3>Instant Results</h3>
                    <p>Detailed analysis with explanations for every question</p>
                </div>
            </div>

            <div class="start-form-wrap">
                <h2 class="form-title">Begin Your Assessment</h2>
                <form id="startForm" class="start-form">
                    <div class="form-group">
                        <label class="form-label" for="userName">Full Name</label>
                        <input type="text" id="userName" class="form-input" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="userEmail">Email Address</label>
                        <input type="email" id="userEmail" class="form-input" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="targetFirm">Target Firm (Optional)</label>
                        <select id="targetFirm" class="form-input">
                            <option value="">Select firm...</option>
                            <option value="kpmg">KPMG</option>
                            <option value="deloitte">Deloitte</option>
                            <option value="pwc">PwC</option>
                            <option value="ey">EY</option>
                            <option value="goldman">Goldman Sachs</option>
                            <option value="jpmorgan">JP Morgan</option>
                            <option value="barclays">Barclays</option>
                            <option value="hsbc">HSBC</option>
                            <option value="citi">Citi</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" id="marketingConsent">
                        <label for="marketingConsent">I agree to receive my diagnostic results and follow-up emails about the training programme. Unsubscribe anytime.</label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-lg" style="width:100%;">Start Diagnostic</button>
                </form>
                <p class="form-note">By starting, you agree to our <a href="pages/terms.html" style="color:var(--gold-400);">Terms of Service</a> and <a href="pages/privacy.html" style="color:var(--gold-400);">Privacy Policy</a>.</p>
            </div>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════
         STATE 2: ASSESSMENT — Timer, questions, navigation
         ═══════════════════════════════════════════════════════════ -->
    <section id="assessment" class="assessment-section">
        <div class="container" style="max-width:800px;">
            <div class="progress-header">
                <div class="progress-top">
                    <div class="progress-info">
                        <span class="progress-text">Question <strong id="currentQ">1</strong>/20</span>
                        <div class="progress-bar"><div class="progress-fill" id="progressBar" style="width:5%"></div></div>
                    </div>
                    <div class="timer" id="timer">25:00</div>
                </div>
                <div class="category-tags">
                    <span class="cat-tag" id="cat-nr">NR</span>
                    <span class="cat-tag" id="cat-di">DI</span>
                    <span class="cat-tag" id="cat-lr">LR</span>
                </div>
            </div>

            <div class="question-card" id="questionContainer">
                <!-- Dynamic content -->
            </div>

            <div class="question-nav">
                <button onclick="AL.prevQuestion()" id="prevBtn" class="btn btn-outline" disabled>Previous</button>
                <button onclick="AL.nextQuestion()" id="nextBtn" class="btn btn-primary">Next Question</button>
            </div>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════
         STATE 3: RESULTS — Score breakdown, focus area, CTA
         ═══════════════════════════════════════════════════════════ -->
    <section id="results" class="results-section">
        <div class="container text-center">
            <div class="results-icon">&check;</div>
            <h1 class="results-title">Assessment Complete</h1>
            <p class="results-subtitle">Your category breakdown has been calculated.</p>

            <div style="background:rgba(255,255,255,.02);border:1px solid rgba(201,169,97,.12);border-radius:var(--radius-xl);padding:2rem;margin-bottom:2rem;">
                <h2 style="font-size:1.3rem;font-weight:700;color:var(--white);margin-bottom:1.5rem;">Your Results</h2>

                <div class="score-grid">
                    <div class="score-card">
                        <div class="score-label">Numerical</div>
                        <div class="score-value" id="nrScore">-/7</div>
                        <div class="score-tier" id="nrLabel">—</div>
                    </div>
                    <div class="score-card">
                        <div class="score-label">Data</div>
                        <div class="score-value" id="diScore">-/7</div>
                        <div class="score-tier" id="diLabel">—</div>
                    </div>
                    <div class="score-card">
                        <div class="score-label">Logical</div>
                        <div class="score-value" id="lrScore">-/6</div>
                        <div class="score-tier" id="lrLabel">—</div>
                    </div>
                </div>

                <div class="focus-box">
                    <h3>Your Focus Area:</h3>
                    <p id="focusArea">Calculating...</p>
                    <a href="masterclass.html" class="btn btn-primary">View Training Programme</a>
                </div>
            </div>

            <div>
                <button onclick="AL.showReview()" class="btn btn-ghost">Review All Answers</button>
                <p style="font-size:.75rem;color:var(--slate-500);margin-top:.5rem;">Detailed explanations for every question</p>
            </div>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════
         STATE 4: REVIEW — Question-by-question with explanations
         ═══════════════════════════════════════════════════════════ -->
    <section id="review" class="review-section">
        <div class="container" style="max-width:800px;">
            <div class="review-header">
                <h2>Review Mode</h2>
                <button onclick="AL.closeReview()" class="btn btn-ghost" style="padding:.4rem .8rem;font-size:.82rem;">Close Review</button>
            </div>
            <div id="reviewContainer"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer" id="siteFooter">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <img src="assets/images/logo.png" width="28" height="28" alt="Acumen Logic">
                        <span>ACUMEN LOGIC</span>
                    </div>
                    <p>Structured aptitude test preparation for UK finance, Big 4, investment banking, and consulting candidates.</p>
                </div>
                <div class="footer-links">
                    <h4>Programme</h4>
                    <ul>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="platform.html">Benchmark Platform</a></li>
                        <li><a href="methodology.html">Methodology</a></li>
                        <li><a href="diagnostic.html">Free Diagnostic</a></li>
                        <li><a href="blog/index.html">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="pages/privacy.html">Privacy Policy</a></li>
                        <li><a href="pages/terms.html">Terms of Service</a></li>
                        <li><a href="pages/refund.html">Refund Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Acumen Logic. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="assets/js/questions.js"></script>
    <script>
    /**
     * ACUMEN LOGIC — Diagnostic Assessment Engine
     * Handles: question rendering, timer, scoring, backend submission, review mode
     */
    var AL = (function() {
        'use strict';

        // ── Configuration ──────────────────────────────────────
        var BACKEND_URL = ''; // Set to your backend URL, e.g. 'https://api.acumenlogic.co.uk'
        var TOTAL_TIME = 1500; // 25 minutes in seconds
        var WARNING_TIME = 120; // 2 minutes warning

        // ── State ──────────────────────────────────────────────
        var currentQuestion = 1;
        var timeRemaining = TOTAL_TIME;
        var timerInterval = null;
        var answers = {};
        var userData = {};
        var questions = defined_questions;

        // Question sequence: interleaved NR, DI, LR
        // IDs: NR=1-7, DI=8-14, LR=15-20
        // Pattern: NR, DI, LR, NR, DI, LR, NR, DI, LR, NR, DI, LR, NR, DI, LR, NR, DI, LR, NR, DI
        var questionSequence = [
            1, 8, 15,   // Q1-3
            2, 9, 16,   // Q4-6
            3, 10, 17,  // Q7-9
            4, 11, 18,  // Q10-12
            5, 12, 19,  // Q13-15
            6, 13, 20,  // Q16-18
            7, 14       // Q19-20
        ];

        // ── DOM refs ───────────────────────────────────────────
        function $(id) { return document.getElementById(id); }

        // ── Sections ───────────────────────────────────────────
        function showSection(id) {
            ['landing', 'assessment', 'results', 'review'].forEach(function(s) {
                var el = $(s);
                if (!el) return;
                if (s === id) {
                    el.classList.add('active');
                    el.style.display = '';
                } else {
                    el.classList.remove('active');
                    el.style.display = 'none';
                }
            });
            window.scrollTo(0, 0);
            // Show/hide footer during assessment
            var footer = $('siteFooter');
            if (footer) footer.style.display = (id === 'assessment') ? 'none' : '';
        }

        // ── Start Assessment ───────────────────────────────────
        function startAssessment(e) {
            e.preventDefault();

            var name = $('userName').value.trim();
            var email = $('userEmail').value.trim();
            if (!name || !email) return;

            userData = {
                name: name,
                email: email,
                firm: $('targetFirm').value,
                consent: $('marketingConsent').checked,
                startedAt: new Date().toISOString()
            };

            sessionStorage.setItem('acumenUser', JSON.stringify(userData));
            showSection('assessment');
            startTimer();
            loadQuestion(1);
        }

        // ── Timer ──────────────────────────────────────────────
        function startTimer() {
            timerInterval = setInterval(function() {
                timeRemaining--;
                var m = Math.floor(timeRemaining / 60);
                var s = timeRemaining % 60;
                var timerEl = $('timer');
                timerEl.textContent = (m < 10 ? '0' : '') + m + ':' + (s < 10 ? '0' : '') + s;

                if (timeRemaining <= WARNING_TIME) {
                    timerEl.classList.add('warning');
                }
                if (timeRemaining <= 0) {
                    finishAssessment();
                }
            }, 1000);
        }

        // ── Question Loading ───────────────────────────────────
        function getQuestionById(id) {
            for (var i = 0; i < questions.length; i++) {
                if (questions[i].id === id) return questions[i];
            }
            return null;
        }

        function loadQuestion(num) {
            currentQuestion = num;
            var qId = questionSequence[num - 1];
            var q = getQuestionById(qId);
            if (!q) return;

            // Progress
            $('currentQ').textContent = num;
            $('progressBar').style.width = ((num / 20) * 100) + '%';

            // Category indicators (use the question's actual category)
            var cat = q.category;
            $('cat-nr').className = 'cat-tag' + (cat === 'Numerical Reasoning' ? ' active' : '');
            $('cat-di').className = 'cat-tag' + (cat === 'Data Interpretation' ? ' active' : '');
            $('cat-lr').className = 'cat-tag' + (cat === 'Logical Reasoning' ? ' active' : '');

            // Navigation
            $('prevBtn').disabled = (num === 1);
            $('nextBtn').textContent = (num === 20) ? 'Finish Assessment' : 'Next Question';

            // Build HTML
            var html = '<div class="question-category">' + escHtml(q.category) + '</div>';
            html += '<div class="question-text">' + escHtml(q.text) + '</div>';

            // Table if present
            if (q.table) {
                html += '<div style="overflow-x:auto;margin-bottom:1.25rem;">';
                html += '<table class="q-table"><thead><tr>';
                q.table.headers.forEach(function(h) {
                    html += '<th>' + escHtml(h) + '</th>';
                });
                html += '</tr></thead><tbody>';
                q.table.rows.forEach(function(row) {
                    html += '<tr>';
                    row.forEach(function(cell) {
                        html += '<td>' + escHtml(cell) + '</td>';
                    });
                    html += '</tr>';
                });
                html += '</tbody></table></div>';
            }

            // Options
            html += '<div class="options-list">';
            q.options.forEach(function(opt, idx) {
                var selected = (answers[qId] === idx) ? ' selected' : '';
                html += '<button class="option-btn' + selected + '" onclick="AL.selectAnswer(' + qId + ',' + idx + ')">';
                html += '<strong>' + String.fromCharCode(65 + idx) + '.</strong> ' + escHtml(opt);
                html += '</button>';
            });
            html += '</div>';

            $('questionContainer').innerHTML = html;
        }

        function selectAnswer(qId, optIdx) {
            answers[qId] = optIdx;
            loadQuestion(currentQuestion); // Re-render to show selection
        }

        function prevQuestion() {
            if (currentQuestion > 1) loadQuestion(currentQuestion - 1);
        }

        function nextQuestion() {
            if (currentQuestion < 20) {
                loadQuestion(currentQuestion + 1);
            } else {
                finishAssessment();
            }
        }

        // ── Finish & Score ─────────────────────────────────────
        function finishAssessment() {
            clearInterval(timerInterval);

            var nrCorrect = 0, nrTotal = 0;
            var diCorrect = 0, diTotal = 0;
            var lrCorrect = 0, lrTotal = 0;
            var totalCorrect = 0;
            var totalWrong = 0;
            var totalSkipped = 0;

            questionSequence.forEach(function(qId) {
                var q = getQuestionById(qId);
                if (!q) return;

                var userAns = answers[qId];
                var cat = q.category;
                var isCorrect = (userAns === q.correct);
                var isSkipped = (userAns === undefined);

                if (cat === 'Numerical Reasoning') {
                    nrTotal++;
                    if (isCorrect) { nrCorrect++; totalCorrect++; }
                    else if (isSkipped) { totalSkipped++; }
                    else { totalWrong++; }
                } else if (cat === 'Data Interpretation') {
                    diTotal++;
                    if (isCorrect) { diCorrect++; totalCorrect++; }
                    else if (isSkipped) { totalSkipped++; }
                    else { totalWrong++; }
                } else {
                    lrTotal++;
                    if (isCorrect) { lrCorrect++; totalCorrect++; }
                    else if (isSkipped) { totalSkipped++; }
                    else { totalWrong++; }
                }
            });

            var timeTaken = TOTAL_TIME - timeRemaining;

            var results = {
                nr: nrCorrect, nrTotal: nrTotal,
                di: diCorrect, diTotal: diTotal,
                lr: lrCorrect, lrTotal: lrTotal,
                total: totalCorrect,
                wrong: totalWrong,
                skipped: totalSkipped,
                timeTaken: timeTaken,
                answers: answers,
                user: userData
            };

            sessionStorage.setItem('acumenResults', JSON.stringify(results));
            sendToBackend(results);
            showResults(results);
        }

        // ── Backend Submission ──────────────────────────────────
        function sendToBackend(results) {
            var pct = Math.round((results.total / 20) * 100);
            var tier = pct >= 80 ? 'Excellent' : pct >= 60 ? 'Good' : pct >= 40 ? 'Needs Work' : 'Weak';

            var payload = {
                assessment_type: 'diagnostic',
                user_name: results.user.name,
                user_email: results.user.email,
                score_correct: results.total,
                score_total: 20,
                score_percentage: pct,
                score_wrong: results.wrong,
                score_skipped: results.skipped,
                time_taken_seconds: results.timeTaken,
                performance_tier: tier,
                section_breakdown: {
                    'Numerical Reasoning': { correct: results.nr, total: results.nrTotal },
                    'Data Interpretation': { correct: results.di, total: results.diTotal },
                    'Logical Reasoning': { correct: results.lr, total: results.lrTotal }
                },
                answers: results.answers,
                meta: {
                    firm: results.user.firm,
                    consent: results.user.consent,
                    started_at: results.user.startedAt,
                    completed_at: new Date().toISOString()
                }
            };

            // Send to our Results Backend
            if (BACKEND_URL) {
                fetch(BACKEND_URL + '/api/results', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                }).catch(function(err) {
                    console.warn('Backend submission failed:', err.message);
                });
            }

            // Also send to Zapier/webhook if configured
            // Uncomment and set your webhook URL:
            // var WEBHOOK_URL = 'YOUR_ZAPIER_WEBHOOK_URL';
            // fetch(WEBHOOK_URL, { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify(payload) }).catch(function(){});
        }

        // ── Show Results ───────────────────────────────────────
        function showResults(results) {
            showSection('results');

            $('nrScore').textContent = results.nr + '/' + results.nrTotal;
            $('diScore').textContent = results.di + '/' + results.diTotal;
            $('lrScore').textContent = results.lr + '/' + results.lrTotal;

            // Strength labels
            var nrPct = results.nr / results.nrTotal;
            var diPct = results.di / results.diTotal;
            var lrPct = results.lr / results.lrTotal;

            setTierLabel('nrLabel', nrPct);
            setTierLabel('diLabel', diPct);
            setTierLabel('lrLabel', lrPct);

            // Find weakest
            var cats = [
                { name: 'Numerical Reasoning', score: results.nr, total: results.nrTotal, pct: nrPct },
                { name: 'Data Interpretation', score: results.di, total: results.diTotal, pct: diPct },
                { name: 'Logical Reasoning', score: results.lr, total: results.lrTotal, pct: lrPct }
            ];
            cats.sort(function(a, b) { return a.pct - b.pct; });
            var weakest = cats[0];

            $('focusArea').innerHTML =
                'Your <strong style="color:var(--gold-400)">' + weakest.name + '</strong> score (' + weakest.score + '/' + weakest.total + ') indicates this is your primary bottleneck. ' +
                'The training programme includes targeted modules to strengthen this specific area.';
        }

        function setTierLabel(elId, pct) {
            var el = $(elId);
            if (pct >= 0.7) {
                el.textContent = 'Strong';
                el.className = 'score-tier strong';
            } else {
                el.textContent = 'Needs Work';
                el.className = 'score-tier weak';
            }
        }

        // ── Review Mode ────────────────────────────────────────
        function showReview() {
            showSection('review');
            var storedResults = JSON.parse(sessionStorage.getItem('acumenResults'));
            if (!storedResults) return;

            var html = '';
            questionSequence.forEach(function(qId, idx) {
                var q = getQuestionById(qId);
                if (!q) return;
                var userAns = storedResults.answers[qId];
                var isCorrect = (userAns === q.correct);
                var isSkipped = (userAns === undefined);

                html += '<div class="review-card ' + (isCorrect ? 'correct' : 'incorrect') + '">';
                html += '<div class="review-card-header">';
                html += '<div><span class="question-category">Q' + (idx + 1) + ' · ' + q.category + '</span>';
                html += '<div class="question-text" style="font-size:.95rem;margin-top:.25rem;">' + escHtml(q.text) + '</div></div>';
                html += '<span class="review-badge ' + (isCorrect ? 'correct' : 'incorrect') + '">' + (isSkipped ? 'Skipped' : isCorrect ? 'Correct' : 'Incorrect') + '</span>';
                html += '</div>';

                // Table
                if (q.table) {
                    html += '<div style="overflow-x:auto;margin-bottom:.75rem;">';
                    html += '<table class="q-table"><thead><tr>';
                    q.table.headers.forEach(function(h) { html += '<th>' + escHtml(h) + '</th>'; });
                    html += '</tr></thead><tbody>';
                    q.table.rows.forEach(function(row) {
                        html += '<tr>';
                        row.forEach(function(cell) { html += '<td>' + escHtml(cell) + '</td>'; });
                        html += '</tr>';
                    });
                    html += '</tbody></table></div>';
                }

                // Options with correct/incorrect marking
                html += '<div class="options-list" style="margin-bottom:.75rem;">';
                q.options.forEach(function(opt, i) {
                    var cls = 'option-btn';
                    if (i === q.correct) cls += ' correct';
                    else if (i === userAns && !isCorrect) cls += ' incorrect';
                    html += '<div class="' + cls + '" style="cursor:default;">';
                    html += '<strong>' + String.fromCharCode(65 + i) + '.</strong> ' + escHtml(opt);
                    html += '</div>';
                });
                html += '</div>';

                // Explanation
                html += '<div class="review-explanation"><strong>Explanation: </strong>' + escHtml(q.explanation) + '</div>';
                html += '</div>';
            });

            $('reviewContainer').innerHTML = html;
        }

        function closeReview() {
            showSection('results');
        }

        // ── Utility ────────────────────────────────────────────
        function escHtml(str) {
            if (!str) return '';
            var div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        // ── Init ───────────────────────────────────────────────
        $('startForm').addEventListener('submit', startAssessment);

        window.addEventListener('scroll', function() {
            $('siteHeader').classList.toggle('scrolled', window.scrollY > 20);
        });

        // Public API
        return {
            selectAnswer: selectAnswer,
            prevQuestion: prevQuestion,
            nextQuestion: nextQuestion,
            showReview: showReview,
            closeReview: closeReview
        };
    })();
    </script>
</body>
</html>
